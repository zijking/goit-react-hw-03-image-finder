{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/services/apiPixabay.js","components/ButtonLoadMore/ButtonLoadMore.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","search","onChangeHandler","e","currentTarget","name","value","setState","onSubmitHandel","trim","preventDefault","props","onSubmit","alert","className","s","searchbar","this","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","placeholder","Component","API_KEY","BASE_URL","SearchImgAi","page","searchWord","fetch","then","response","json","id","newPage","console","log","newWord","ButtonLoadMore","onClick","button","ImageGalleryItem","img","onClickM","nodeName","imageGalleryItem","src","webformatURL","alt","tags","imageGalleryItemImage","Modal","handleKeyDown","code","toggleModal","handleBackdropClick","event","target","window","addEventListener","removeEventListener","item","overlay","modal","largeImageURL","LoaderCom","color","height","width","ImageGallery","images","modalShow","modalIndex","loading","apiSearch","searchImg","fetchImg","queryWord","sword","setTimeout","res","hits","finally","handlerModal","numId","Number","indexModsl","findIndex","element","prevProps","prevState","resetPage","even","incrementPage","scrollTo","top","document","documentElement","scrollHeight","behavior","Loader","imageGallery","map","onCkickLoadMore","App","apiService","handelSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7bc6c35e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2MsIs\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3cGAF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__MBhtt\",\"modal\":\"Modal_modal__OS11U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonLoadMore_button__uqbL4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__znj59\"};","import { Component } from 'react';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  //  { page } = this.props;\r\n\r\n  onChangeHandler = e => {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  onSubmitHandel = e => {\r\n    if (this.state.search.trim() === '') {\r\n      alert('Write SEARCH WORD !!!');\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.search);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.onSubmitHandel} className={s.searchForm}>\r\n          <button type=\"submit\" className={s.searchFormButton}>\r\n            <span className={s.searchFormButtonLabel}></span>\r\n          </button>\r\n\r\n          <input\r\n            name=\"search\"\r\n            className={s.searchFormInput}\r\n            onChange={this.onChangeHandler}\r\n            type=\"text\"\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.search}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","// console.log('apiService.js');\r\n\r\nconst API_KEY = '19017356-b8756222892cfba3d959da30c';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst ON_PAGE = 20;\r\n\r\nexport default class SearchImgAi {\r\n  constructor() {\r\n    this.page = 1;\r\n    this.searchWord = '';\r\n  }\r\n\r\n  searchImg() {\r\n    return fetch(\r\n      `${BASE_URL}\\\\?key=${API_KEY}&q=${this.searchWord}&per_page=${ON_PAGE}&page=${this.page}`,\r\n    ).then(response => response.json());\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  searchImgById(id) {\r\n    return fetch(`${BASE_URL}\\\\?key=${API_KEY}&id=${id}`).then(response =>\r\n      response.json(),\r\n    );\r\n  }\r\n\r\n  set setPage(newPage) {\r\n    if (newPage !== this.page && newPage < this.page) {\r\n      this.page = newPage;\r\n      console.log('new page big');\r\n    }\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchWord;\r\n  }\r\n\r\n  set queryWord(newWord) {\r\n    this.searchWord = newWord;\r\n  }\r\n\r\n  get currentPage() {\r\n    return this.page;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './ButtonLoadMore.module.css';\r\n\r\nfunction ButtonLoadMore({ onClick }) {\r\n  return (\r\n    <>\r\n      <button type=\"button\" className={s.button} onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ButtonLoadMore;\r\n","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ img, onClickM }) {\r\n  return (\r\n    <li\r\n      id={img.id}\r\n      onClick={e => {\r\n        // console.log(e);\r\n        // console.log(e.currentTarget.nodeName);\r\n        if (e.currentTarget.nodeName !== 'LI') {\r\n          return;\r\n        }\r\n        const id = e.currentTarget.id;\r\n        onClickM(id);\r\n      }}\r\n      className={s.imageGalleryItem}\r\n    >\r\n      <img\r\n        src={img.webformatURL}\r\n        alt={img.tags}\r\n        className={s.imageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    // console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    // console.log('Modal componentWillUnmount');\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      // console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n    return (\r\n      <div onClick={this.handleBackdropClick} className={s.overlay}>\r\n        <div className={s.modal}>\r\n          <img src={item.largeImageURL} alt={item.tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nfunction LoaderCom() {\r\n  return (\r\n    <div className=\"loader\">\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#3F51B5\"\r\n        height={500}\r\n        width={500}\r\n        // timeout={3000} //3 secs\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoaderCom;\r\n","import React, { Component } from 'react';\r\n\r\nimport searchImg from '../services/apiPixabay';\r\nimport ButtonLoadMore from '../ButtonLoadMore';\r\nimport s from './ImageGallery.module.css';\r\nimport ItemImg from '../ImageGalleryItem';\r\nimport Modal from '../Modal';\r\nimport Loader from '../Loader';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: null,\r\n    modalShow: false,\r\n    modalIndex: 0,\r\n    loading: false,\r\n  };\r\n\r\n  apiSearch = new searchImg();\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.sword !== this.props.sword) {\r\n      // console.log('Змінилось пошукове слово !');\r\n      this.apiSearch.resetPage();\r\n      this.setState({ images: null });\r\n\r\n      this.fetchImg();\r\n    }\r\n  }\r\n\r\n  fetchImg = () => {\r\n    this.apiSearch.queryWord = this.props.sword;\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      this.apiSearch\r\n        .searchImg()\r\n        .then(res => {\r\n          this.setState({ images: res.hits });\r\n          // console.log(res);\r\n        })\r\n        .finally(this.setState({ loading: false }));\r\n    }, 1000);\r\n  };\r\n\r\n  async onCkickLoadMore(even) {\r\n    // console.log('click more');\r\n\r\n    await this.apiSearch.incrementPage();\r\n    await this.apiSearch.searchImg().then(res => {\r\n      this.setState(({ images }) => ({\r\n        images: [...images, ...res.hits],\r\n      }));\r\n\r\n      // console.log(res);\r\n    });\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n    // this.apiSearch.incrementPage();\r\n    // this.fetchImg();\r\n    // console.log(this);\r\n  }\r\n\r\n  modalShow = () => {\r\n    this.setState(({ modalShow }) => ({ modalShow: !modalShow }));\r\n  };\r\n\r\n  handlerModal = id => {\r\n    const numId = Number(id);\r\n\r\n    const isLargeNumber = element => element.id === numId;\r\n\r\n    const indexModsl = this.state.images.findIndex(isLargeNumber);\r\n    this.setState({ modalIndex: indexModsl });\r\n    this.modalShow();\r\n  };\r\n\r\n  render() {\r\n    const { images, modalIndex, loading } = this.state;\r\n    return (\r\n      <>\r\n        {loading && <Loader />}\r\n        <ul className={s.imageGallery}>\r\n          {images &&\r\n            images.map(item => {\r\n              return (\r\n                <ItemImg\r\n                  key={item.id}\r\n                  img={item}\r\n                  onClickM={this.handlerModal}\r\n                />\r\n              );\r\n            })}\r\n        </ul>\r\n        {images && <ButtonLoadMore onClick={() => this.onCkickLoadMore()} />}\r\n        {this.state.modalShow && (\r\n          <Modal toggleModal={this.modalShow} item={images[modalIndex]} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\n\nimport SearchBar from './components/Searchbar';\nimport ImgGellery from './components/ImageGallery';\nimport apiService from './components/services/apiPixabay';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    modalShow: false,\n    sword: '',\n  };\n\n  searchImg = new apiService();\n\n  handelSubmit = searchWord => {\n    this.setState({ sword: searchWord });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.handelSubmit} />\n        <ImgGellery sword={this.state.sword} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3ecvv\",\"searchForm\":\"Searchbar_searchForm__8h8gC\",\"searchFormButton\":\"Searchbar_searchFormButton__38PBj\",\"searchFormBbutton\":\"Searchbar_searchFormBbutton__21ttE\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2mYEx\",\"searchFormInput\":\"Searchbar_searchFormInput__2joHj\",\"searchFormISnput\":\"Searchbar_searchFormISnput__2B1SB\"};"],"sourceRoot":""}